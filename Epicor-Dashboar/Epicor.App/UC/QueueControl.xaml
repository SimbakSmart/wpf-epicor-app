<UserControl x:Class="Epicor.App.UC.QueueControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Epicor.App.UC"
              xmlns:vm="clr-namespace:Epicor.App.ViewModel"
             xmlns:cv="clr-namespace:Epicor.App.Helper"
              xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
              xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
             mc:Ignorable="d" 
               d:DesignHeight="450" d:DesignWidth="800" >

    <UserControl.DataContext>
        <vm:QueueViewModel />
    </UserControl.DataContext>

    <UserControl.Resources>
        <cv:WpConverter x:Key="WpConverter"/>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" x:Name="scrollView">
        
        <Grid Margin="10 0">

          

            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="100"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Row="0" 
                       Grid.Column="0"
                       Grid.ColumnSpan="4"
                       Orientation="Vertical"
                       HorizontalAlignment="Stretch">

                <TextBlock 
                    HorizontalAlignment="Center" 
                    Style="{StaticResource LargeTitleBlockStyle}"
                      Text="ANALISIS DE REPORTES ACTIVOS" />

            </StackPanel>

            <StackPanel Grid.Row="1" Grid.Column="0">
                <Image Source="/Images/meeting.png"
                        Stretch="UniformToFill"
                        Width="100"
                        Height="100"
                        HorizontalAlignment="Left"/>

            </StackPanel>

            <StackPanel  Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2"
                         Margin="10">
                <ProgressBar
                    Width="35"
                    Height="35"
                IsIndeterminate="True"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                             Visibility="{Binding IsLoading,Converter={StaticResource BooleanToVisibilityConverter}}"
                Style="{StaticResource MaterialDesignCircularProgressBar}"
                Value="35" />
                <TextBlock 
                     HorizontalAlignment="Center"
                     Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                    Visibility="{Binding IsLoading,Converter={StaticResource BooleanToVisibilityConverter}}"
                    Text="Cargando.." />
            </StackPanel>
            

            <StackPanel Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2">
                <materialDesign:Card
              materialDesign:ElevationAssist.Elevation="Dp3"
              Width="200"
              Padding="8"
              Margin="8 0"
              Background="{DynamicResource PrimaryHueDarkBrush}"
              Foreground="{DynamicResource PrimaryHueDarkForegroundBrush}"
              UniformCornerRadius="6"
                    HorizontalAlignment="Right">
                    <StackPanel>
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"
                     Style="{StaticResource MaterialDesignButtonTextBlock}"
                     Text="TOTAL DE ACTIVOS" />
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"
                          Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                          Text="{Binding Total}" />
                    </StackPanel>
                </materialDesign:Card>

            </StackPanel>

            <!--GRAFICA DE BARRAS-->
            <materialDesign:Card 
                                 Margin="10"
                                 Grid.Row="2" 
                                 Grid.Column="0" 
                                 Grid.ColumnSpan="2" 
                       materialDesign:ElevationAssist.Elevation="Dp3">
                <Grid>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock 
                            Grid.Row="0"
                            HorizontalAlignment="Center" 
                            Style="{StaticResource LargeTitleBlockStyle}"
                            Text="TOTAL POR ÁREAS" />

                    <lvc:CartesianChart 
                        Grid.Row="1"
                        Series="{Binding Series}"
                        XAxes="{Binding XAxes}"
                        />
                </Grid>
            </materialDesign:Card>
            <!--GRAFICA DE BARRAS-->

            <!--GRAFICA DE URGENCIAS-->

            <materialDesign:Card 
                      Margin="10"
                      Grid.Row="2" 
                      Grid.Column="2" 
                 materialDesign:ElevationAssist.Elevation="Dp3">

                <Grid>
                    <!--<Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>-->
                    <Grid.RowDefinitions>

                        <RowDefinition Height="35" />
                        <RowDefinition Height="325" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <TextBlock 
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"              
                        HorizontalAlignment="Center" 
                        Style="{StaticResource LargeTitleBlockStyle}"
                        Text="TOTAL URGENCIAS" />       


                         <lvc:PieChart
                          Grid.Row="1"                       
                          IsClockwise="False"
                          InitialRotation="-90"
                         Series="{Binding SeriesUrgency }">
                        </lvc:PieChart>

                        <DataGrid
                        Grid.Row="2"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      HeadersVisibility="All"
                      ItemsSource="{Binding ListUrgency}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="URGENCIA" Binding="{Binding Urgency}" />
                            <DataGridTextColumn Header="TOTAL" Binding="{Binding Total}" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>

                
            </materialDesign:Card>

            <!--GRAFICA DE URGENCIAS-->


            <!--GRAFICA DE PRIORIDAD-->
            <materialDesign:Card 
          Margin="10"
          Grid.Row="2" 
          Grid.Column="3" 
     materialDesign:ElevationAssist.Elevation="Dp3">

                <Grid>
                    <Grid.RowDefinitions>

                        <RowDefinition Height="35" />
                        <RowDefinition Height="325" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <TextBlock 
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="2"              
            HorizontalAlignment="Center" 
            Style="{StaticResource LargeTitleBlockStyle}"
            Text="TOTAL PRIORIDAD" />


                    <lvc:PieChart
              Grid.Row="1"                       
              IsClockwise="False"
              InitialRotation="-90"
             Series="{Binding SeriesPriority}">
                    </lvc:PieChart>

                    <DataGrid
            Grid.Row="2"
          AutoGenerateColumns="False"
          CanUserAddRows="False"
          HeadersVisibility="All"
          ItemsSource="{Binding ListPriority}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="PRIORIDAD" Binding="{Binding Priority}" />
                            <DataGridTextColumn Header="TOTAL" Binding="{Binding Total}" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>


            </materialDesign:Card>

            <!--GRAFICA DE PRIORIDAD-->




            <!--GRAFICA DE BARRAS-->
            <materialDesign:Card 
                     Margin="10"
                     Grid.Row="3" 
                     Grid.Column="0" 
                     Grid.ColumnSpan="2" 
           materialDesign:ElevationAssist.Elevation="Dp3">
                <Grid>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock 
                Grid.Row="0"
                HorizontalAlignment="Center" 
                Style="{StaticResource LargeTitleBlockStyle}"
                Text="TOTAL POR ÁREAS" />

                    <lvc:CartesianChart 
            Grid.Row="1"
            Series="{Binding Series}"
            XAxes="{Binding XAxes}"
            />
                </Grid>
            </materialDesign:Card>
            <!--GRAFICA DE BARRAS-->

        </Grid>
    </ScrollViewer>
</UserControl>